# 概念
通过severless这种服务形态， 用户在使用对应的服务时， 不需要关心或较少关心服务器的硬件资源， 软件资源， 稳定性等， 这些通常已经由云计算厂商提供设施， 服务和SLA保障， 完全托管给云计算厂商。 而用户只需要专注自己应用代码本身， 上传执行函数到相应云计算平台， 按照函数运行的时长按量收费。

# 演进
云计算诞生后， 用户可以直接购买云主机（VM）， 把基础物理硬件和网络的管理都交由供应商管理， 多用户租用一台物理机， 但每台云主机对用户来说就像是单独的一台物理机， 用户之间相互隔离。 这种模式减少了用户硬件管理成本， 站在平台的角度， 我们通常称之为**LaaS**。

随着软件的发展和容器技术的兴起， 计算环境由VM发展到更小粒度的容器， 在容器中可以运行不同的软件服务， Paas（Platform-as-Service）和CaaS（Container-as-a-Service）。

继续向前发展， 应用的运行演变为更细粒度函数的运行， 用户开发特定业务的处理函数， 托管给函数平台， 按需使用相关的后端服务， 通过特定条件的触发完成开发者业务逻辑函数的计算。 用户无需为应用持续付费， 只需支付函数运行时产生的资源消耗费用， 这就是**Serveless服务的模型**。

# 架构

Serverless架构由两部分组成， 即FaaS和BaaS。

FaaS（Function-as-a-Service）即为函数运行平台， 用户无需搭建庞大的服务系统， 只需要上传自己的逻辑函数如一些定时任务， 数据处理任务等到函数平台， 配置执行条件触发器， 路由等， 完成基础的函数注册。

BaaS（Backend-as-a-Service）包含了后端服务组件， 它是基于API的第三方服务， 用于实现应用程序中的核心功能， 包含常用的数据库， 对象存储， 消息队列， 日志服务等。

Serverless其实是通过事件驱动的， 当一个任务被触发时， 比如http请求， API Gateway接受请求， 解析和认证， 传递对应参数给云函数平台， 平台中执行对应回调函数， 配合DB， MQ等BaaS服务在特定容器中完成计算， 最终将结果返回给用户。 函数执行完成后， 一般会被FaaS平台销毁， 释放对应容器， 等待下一个函数运行。

# 优缺点

- 优点
    - 低运维成本
    - 事件驱动触发
    - 按需计费
    - 安全可靠（云厂商保障SLA， 代码加密托管， 抵御网络攻击）
    - 弹性伸缩（方便扩容， 提前应对峰值流量）

- 缺点
    - 云厂商强绑定
    - 不适合长时间任务
    - 冷启动时间： 函数运行时， 执行容器和环境需要一个准备时间， 尤其是第一次启动时间可能会较长， 对一个http请求来说， 可能会带来响应时延的增加， 产生性能毛刺。
    - 调试与测试： 由于本地环境和平台运行环境存在差异， 开发者需要不断调整代码， 并提交到函数平台运行测试， 会带来一些开发成本。

# 应用场景

1. 定时任务： 通过时间触发对应的函数任务， 完成开发者业务逻辑的处理
2. 数据加工： 通过事件驱动机制， 在特定的条件下触发， 对系统的日志进行整合， 或对多媒体文件进行加工等
3. 低频请求： 用户可以按频次付费， 而无需构建一个应用应对这些必要的但是量小的请求
4. LoT物联网： 大部分是用户对设备的操控， 用户对时延的容忍度较高， 也是典型的事件触发且低频场景
5. 认知计算： 适用于某些AI场景， 如聊天机器人。

[参考](https://juejin.im/post/5d9c47dce51d4578045a3569)